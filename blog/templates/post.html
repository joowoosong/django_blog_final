{% extends 'base.html' %}
{% load staticfiles %}

{% block header %}
<link rel="stylesheet" href="{% static '/css/post.css' %}">
<script>
    _post = $(document).ready(function(){
        let status = '{{ status }}'
        if(status === "update"){
            console.log('{{post.title}}')
            $('#txt_title').val('{{ post.title }}');
            $('#ta_content').val('{{ post.body }}');
        }
    });
</script>
{% endblock %}


{% block content %}
<form class="post" action="{% url 'create_post' %}" method="POST">
    {% csrf_token %}
    <div class="detail container">
        <div class="detail-header mt-5">
            <div class="form-group">
                <label for="txt_title">Title</label>
                <input type="text" class="form-control" name="title" id="txt_title" placeholder="title for post">
            </div>    
        </div>
        <hr>
        <div class="detail-content mt-3 mb-3">
            <div class="form-group">
                <label for="ta_content">Content</label>
                <textarea class="form-control" name="content" id="ta_content" rows="10"></textarea>
            </div>
        </div>
        <hr>
        <div class="mt-3 mb-3 text-right">
            <a href="/" role="button" class="btn btn-info mb-2">Go to list</a>
            <button type="submit" class="btn btn-primary mb-2">Submit</button>
        </div>
</form>
{% endblock %}